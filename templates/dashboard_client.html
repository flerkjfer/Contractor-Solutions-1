{% extends "base.html" %}
{% block content %}
<h2>Client Dashboard</h2>

<p>Hello, <strong>{{ profile.firstName }} {{ profile.lastName }}</strong>!</p>
<p><a href="{{ url_for('edit_profile') }}">Edit Profile</a></p>
<p><a href="{{ url_for('list_companies') }}">View Companies</a></p>
{# <p><a href="{{ url_for('view_all_clients') }}">See Other Clients</a></p> #}

<h3>Pending Contractor Requests</h3>

{% for r in contractor_requests %}
<div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
    <p>Job: {{ r.service }}</p>
    <p>Requested by: <a href="/contractor_profile/{{ r.contractorID }}">{{ r.contractorName }}</a></p>

    <a href="/approve_contractor/{{ r.jobID }}/{{ r.contractorID }}">Approve</a> |
    <a href="/reject_contractor/{{ r.jobID }}/{{ r.contractorID }}">Reject</a>
</div>
{% else %}
<p>No pending contractor requests at the moment.</p>
{% endfor %}

<p><a href="{{ url_for('create_jobrequest') }}">Create New Job Request</a></p>
<p><a href="{{ url_for('view_jobrequests') }}">View My Job Requests</a></p>
<p><a href="{{ url_for('logout') }}">Logout</a></p>

<hr>
<h3>Companies</h3>
<table border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>ID</th><th>Name</th><th>Service Type</th><th>Location</th>
    </tr>
    {% for c in companies %}
    <tr>
        <td>{{ c.companyID }}</td>
        <td>{{ c.name }}</td>
        <td>{{ c.serviceType }}</td>
        <td>{{ c.location }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
